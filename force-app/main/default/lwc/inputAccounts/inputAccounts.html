<template>
    <lightning-card title="取引先入力フォーム" icon-name="standard:account">
        <!-- 入力フォーム -->
        <div class="slds-p-around_medium">
            <lightning-input
                label="取引先名"
                value={accountName}
                onchange={handleNameChange}
                placeholder="取引先名を入力してください"
                required
            ></lightning-input>
            
            <lightning-input
                label="電話番号"
                type="tel"
                value={phone}
                onchange={handlePhoneChange}
                placeholder="03-1234-5678"
                class="slds-m-top_small"
            ></lightning-input>
            
            <lightning-input
                label="業種"
                value={industry}
                onchange={handleIndustryChange}
                placeholder="例: IT、製造業、小売業"
                class="slds-m-top_small"
            ></lightning-input>
            
            <div class="slds-m-top_medium">
                <lightning-button
                    variant="brand"
                    label="追加"
                    onclick={handleAddAccount}
                    disabled={isAddDisabled}
                ></lightning-button>
                <lightning-button
                    variant="neutral"
                    label="クリア"
                    onclick={handleClear}
                    class="slds-m-left_x-small"
                ></lightning-button>
            </div>
        </div>

        <!-- 登録済み取引先リスト -->
        <template lwc:if={hasAccounts}>
            <div class="slds-p-around_medium slds-border_top">
                <h3 class="slds-text-heading_small slds-m-bottom_small">
                    登録済み取引先 ({accountCount}件)
                </h3>
                <lightning-datatable
                    key-field="id"
                    data={accounts}
                    columns={columns}
                    hide-checkbox-column
                    onrowaction={handleRowAction}
                ></lightning-datatable>
            </div>
        </template>

        <!-- 取引先がない場合 -->
        <template lwc:else>
            <div class="slds-p-around_medium slds-border_top">
                <p class="slds-text-color_weak">まだ取引先が登録されていません。</p>
            </div>
        </template>
    </lightning-card>
</template>